"use strict";
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var statUtil_1 = require("./statUtil");
var util_1 = require("../util");
var Stat = require("./Stat");
var ChiSquared = (function (_super) {
    __extends(ChiSquared, _super);
    function ChiSquared() {
        _super.apply(this, arguments);
        this.name = "Chi Squared";
        this.significanceLevel = 100;
    }
    ChiSquared.prototype.rawFindStatistic = function (text) {
        var result = 0;
        text = text.toUpperCase();
        var length = text.match(/[A-Z]/gi).length;
        for (var i = 0; i < util_1.uppercaseLetters.length; i++) {
            result += Math.pow(statUtil_1.countLetterOccurences(util_1.uppercaseLetters[i], text)
                - (statUtil_1.RealLetterProb[i] / 100) * length, 2) / ((statUtil_1.RealLetterProb[i] / 100) * length);
        }
        return result;
    };
    return ChiSquared;
}(Stat));
module.exports = ChiSquared;
//# sourceMappingURL=ChiSquared.js.map